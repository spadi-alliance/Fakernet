#-----------------------------------------------------------
# Vivado v2022.2 (64-bit)
# SW Build 3671981 on Fri Oct 14 04:59:54 MDT 2022
# IP Build 3669848 on Fri Oct 14 08:30:02 MDT 2022
# Start of session at: Wed Jul 31 18:02:21 2024
# Process ID: 402013
# Current directory: /home/nagafusa/work/spadi/Fakernet/SAMIDARE
# Command line: vivado
# Log file: /home/nagafusa/work/spadi/Fakernet/SAMIDARE/vivado.log
# Journal file: /home/nagafusa/work/spadi/Fakernet/SAMIDARE/vivado.jou
# Running On: e16fpga01, OS: Linux, CPU Frequency: 5725.920 MHz, CPU Physical cores: 32, Host memory: 66513 MB
#-----------------------------------------------------------
start_gui
open_project /home/nagafusa/work/spadi/Fakernet/SAMIDARE/samidare.xpr
update_compile_order -fileset sources_1
open_bd_design {/home/nagafusa/work/spadi/Fakernet/SAMIDARE/samidare.srcs/sources_1/bd/top_block/top_block.bd}
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_iic:2.1 axi_iic_0
endgroup
set_property location {5 1458 746} [get_bd_cells axi_iic_0]
set_property location {4 1503 865} [get_bd_cells axi_iic_0]
create_bd_port -dir O SAMPA_I2C_SDA
create_bd_port -dir I SAMPA_I2C_SCL
set_property location {1953 995} [get_bd_ports SAMPA_I2C_SCL]
delete_bd_objs [get_bd_ports SAMPA_I2C_SCL]
create_bd_port -dir O SAMPA_I2C_SCL
set_property location {1914 857} [get_bd_ports SAMPA_I2C_SCL]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:util_ds_buf:2.2 util_ds_buf_0
endgroup
set_property CONFIG.C_BUF_TYPE {IOBUF} [get_bd_cells util_ds_buf_0]
set_property location {6 2016 837} [get_bd_cells util_ds_buf_0]
set_property location {5.5 1850 800} [get_bd_cells util_ds_buf_0]
delete_bd_objs [get_bd_ports SAMPA_I2C_SDA]
delete_bd_objs [get_bd_ports SAMPA_I2C_SCL]
create_bd_port -dir IO SAMPA_I2C_SDA
create_bd_port -dir IO SAMPA_I2C_SCL
connect_bd_net [get_bd_ports SAMPA_I2C_SDA] [get_bd_pins util_ds_buf_0/IOBUF_IO_IO]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_O] [get_bd_pins axi_iic_0/sda_i]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_I] [get_bd_pins axi_iic_0/sda_o]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_T] [get_bd_pins axi_iic_0/sda_t]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:util_ds_buf:2.2 util_ds_buf_1
endgroup
set_property location {6 1882 730} [get_bd_cells util_ds_buf_1]
set_property location {6 1832 954} [get_bd_cells util_ds_buf_0]
delete_bd_objs [get_bd_nets util_ds_buf_0_IOBUF_IO_O]
delete_bd_objs [get_bd_nets Net]
delete_bd_objs [get_bd_nets axi_iic_0_sda_t]
delete_bd_objs [get_bd_nets axi_iic_0_sda_o]
set_property location {6 1843 1052} [get_bd_cells util_ds_buf_1]
set_property location {6 1880 870} [get_bd_cells util_ds_buf_0]
set_property CONFIG.C_BUF_TYPE {IOBUF} [get_bd_cells util_ds_buf_1]
set_property location {2259 974} [get_bd_ports SAMPA_I2C_SDA]
connect_bd_net [get_bd_ports SAMPA_I2C_SCL] [get_bd_pins util_ds_buf_0/IOBUF_IO_IO]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_O] [get_bd_pins axi_iic_0/scl_i]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_I] [get_bd_pins axi_iic_0/scl_o]
connect_bd_net [get_bd_pins util_ds_buf_0/IOBUF_IO_T] [get_bd_pins axi_iic_0/scl_t]
connect_bd_net [get_bd_ports SAMPA_I2C_SDA] [get_bd_pins util_ds_buf_1/IOBUF_IO_IO]
connect_bd_net [get_bd_pins util_ds_buf_1/IOBUF_IO_O] [get_bd_pins axi_iic_0/sda_i]
connect_bd_net [get_bd_pins util_ds_buf_1/IOBUF_IO_T] [get_bd_pins axi_iic_0/sda_t]
connect_bd_net [get_bd_pins util_ds_buf_1/IOBUF_IO_I] [get_bd_pins axi_iic_0/sda_o]
regenerate_bd_layout
create_bd_cell -type hier I2C_iobuf
set_property location {5 1513 -80} [get_bd_cells I2C_iobuf]
move_bd_cells [get_bd_cells I2C_iobuf] [get_bd_cells util_ds_buf_0] [get_bd_cells util_ds_buf_1]
undo
create_bd_port -dir IO IIC
delete_bd_objs [get_bd_ports IIC]
move_bd_cells [get_bd_cells I2C_iobuf] [get_bd_cells util_ds_buf_1] [get_bd_cells util_ds_buf_0]
set_property location {5 867 121} [get_bd_cells I2C_iobuf]
regenerate_bd_layout
close [ open /home/nagafusa/work/spadi/Fakernet/SAMIDARE/samidare.srcs/sources_1/new/I2C_controller.v w ]
add_files /home/nagafusa/work/spadi/Fakernet/SAMIDARE/samidare.srcs/sources_1/new/I2C_controller.v
update_compile_order -fileset sources_1
create_peripheral user.org user I2C_controller 1.0 -dir /home/nagafusa/work/spadi/Fakernet/ip_repo
add_peripheral_interface S00_AXI -interface_mode slave -axi_type lite [ipx::find_open_core user.org:user:I2C_controller:1.0]
add_peripheral_interface M00_AXI -interface_mode master -axi_type lite [ipx::find_open_core user.org:user:I2C_controller:1.0]
generate_peripheral -driver -bfm_example_design -debug_hw_example_design [ipx::find_open_core user.org:user:I2C_controller:1.0]
write_peripheral [ipx::find_open_core user.org:user:I2C_controller:1.0]
set_property  ip_repo_paths  /home/nagafusa/work/spadi/Fakernet/ip_repo/I2C_controller_1_0 [current_project]
update_ip_catalog -rebuild
ipx::edit_ip_in_project -upgrade true -name edit_I2C_controller_v1_0 -directory /home/nagafusa/work/spadi/Fakernet/ip_repo /home/nagafusa/work/spadi/Fakernet/ip_repo/I2C_controller_1_0/component.xml
update_compile_order -fileset sources_1
close_project
create_peripheral user.org user I2C_controller 1.0 -dir /home/nagafusa/work/spadi/Fakernet/ip_repo
add_peripheral_interface S00_AXI -interface_mode slave -axi_type lite [ipx::find_open_core user.org:user:I2C_controller:1.0]
add_peripheral_interface M00_AXI -interface_mode master -axi_type lite [ipx::find_open_core user.org:user:I2C_controller:1.0]
generate_peripheral -driver -bfm_example_design -debug_hw_example_design -force [ipx::find_open_core user.org:user:I2C_controller:1.0]
write_peripheral [ipx::find_open_core user.org:user:I2C_controller:1.0]
set_property  ip_repo_paths  {/home/nagafusa/work/spadi/Fakernet/ip_repo/I2C_controller_1_0 /home/nagafusa/work/spadi/Fakernet/ip_repo/I2C_controller_1_0} [current_project]
update_ip_catalog -rebuild
ipx::edit_ip_in_project -upgrade true -name edit_I2C_controller_v1_0 -directory /home/nagafusa/work/spadi/Fakernet/ip_repo /home/nagafusa/work/spadi/Fakernet/ip_repo/I2C_controller_1_0/component.xml
update_compile_order -fileset sources_1
current_project samidare
regenerate_bd_layout
create_bd_cell -type hier SAMPA_I2C_wrapper
set_property location {3.5 1084 41} [get_bd_cells SAMPA_I2C_wrapper]
move_bd_cells [get_bd_cells SAMPA_I2C_wrapper] [get_bd_cells I2C_iobuf] [get_bd_cells axi_iic_0]
regenerate_bd_layout
delete_bd_objs [get_bd_intf_nets S_AXI1_1]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/clk_wiz_0/clk_out5 (125 MHz)} Clk_slave {/clk_wiz_0/clk_out5 (125 MHz)} Clk_xbar {/clk_wiz_0/clk_out5 (125 MHz)} Master {/led_module/LED_REG_READ_SEPARAT_0/m00_axi} Slave {/reg_bram/axi_bram_ctrl_1/S_AXI} ddr_seg {Auto} intc_ip {/intercon_wrapper/axi_mem_intercon} master_apm {0}}  [get_bd_intf_pins reg_bram/axi_bram_ctrl_1/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/clk_wiz_0/clk_out5 (125 MHz)} Clk_slave {Auto} Clk_xbar {/clk_wiz_0/clk_out5 (125 MHz)} Master {/led_module/LED_REG_READ_SEPARAT_0/m00_axi} Slave {/SAMPA_I2C_wrapper/axi_iic_0/S_AXI} ddr_seg {Auto} intc_ip {/intercon_wrapper/axi_mem_intercon} master_apm {0}}  [get_bd_intf_pins SAMPA_I2C_wrapper/axi_iic_0/S_AXI]
endgroup
undo
undo
save_bd_design
